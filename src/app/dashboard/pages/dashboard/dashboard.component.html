<div class="col-12 full">
  <div class="card h-full">
    <h5 class="font-bold">Packages Status</h5>
    <div class="grid">
      <div class="col-2">
        <div class="card">
          <div class="flex justify-content-between mb-3">
            <div>
              <span class="block text-500 font-medium mb-3">Packages</span>
              <div class="text-900 font-medium text-xl">{{ numPackages }}</div>
            </div>
            <div
              class="flex align-items-center justify-content-center bg-blue-100 border-round"
              [ngStyle]="{ width: '2.5rem', height: '2.5rem' }"
            >
              <i class="pi pi-box text-blue-500 text-xl"></i>
            </div>
          </div>
        </div>
      </div>

      <div class="col-2">
        <div class="card">
          <div class="flex justify-content-between mb-3">
            <div>
              <span class="block text-500 font-medium mb-3">Created</span>
              <div class="text-900 font-medium text-xl">{{ created }}</div>
            </div>
            <div
              class="flex align-items-center justify-content-center bg-orange-100 border-round"
              [ngStyle]="{ width: '2.5rem', height: '2.5rem' }"
            >
              <i class="pi pi-box text-orange-500 text-xl"></i>
            </div>
          </div>
        </div>
      </div>

      <div class="col-2">
        <div class="card">
          <div class="flex justify-content-between mb-3">
            <div>
              <span class="block text-500 font-medium mb-3"> In Transit</span>
              <div class="text-900 font-medium text-xl">{{ inTransit }}</div>
            </div>
            <div
              class="flex align-items-center justify-content-center bg-red-100 border-round"
              [ngStyle]="{ width: '2.5rem', height: '2.5rem' }"
            >
              <i class="pi pi-truck text-red-500 text-xl"></i>
            </div>
          </div>
        </div>
      </div>

      <div class="col-2">
        <div class="card">
          <div class="flex justify-content-between mb-3">
            <div>
              <span class="block text-500 font-medium mb-3"> Delivered</span>
              <div class="text-900 font-medium text-xl">{{ delivered }}</div>
            </div>
            <div
              class="flex align-items-center justify-content-center bg-green-100 border-round"
              [ngStyle]="{ width: '2.5rem', height: '2.5rem' }"
            >
              <i class="pi pi-send text-green-500 text-xl"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
    <p-divider></p-divider>
    <h5 class="font-bold">Shipments</h5>
    <p-table
      [value]="shipments()"
      [rows]="5"
      [rowHover]="true"
      [scrollable]="true"
      scrollHeight="450px"
    >
      <ng-template pTemplate="header">
        <tr>
          <th>#</th>
          <th>CARRIER</th>
          <th>CURRENT LOCATION</th>
          <th>PACKAGES DELIVERED</th>
          <th>STATUS</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-shipment>
        <tr>
          <td style="min-width: 3rem">
            <p>
              {{ shipment?.code }}
            </p>
          </td>
          <td>
            <p>
              {{ shipment?.carrier?.firstName }} <br />{{
                shipment?.carrier?.lastName
              }}
            </p>
          </td>
          <td>
            <p>
              {{
                shipment?.location?.address
                  ? shipment?.location?.address
                  : "Prolongaci√≥n Primavera 2390, Santiago de Surco 15023"
              }}
            </p>
          </td>
          <td>
            <p>
              {{ shipment?.packagesDelivered }} / {{ shipment?.numPackages }}
            </p>
          </td>
          <td>
            <span
              [class]="'shipment-badge status-' + shipment?.status"
              style="font-size: 1.05rem"
              >{{ shipment?.status }}</span
            >
          </td>
        </tr> </ng-template
      ><ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="7">No packages found.</td>
        </tr>
      </ng-template>
      <ng-template pTemplate="loadingbody">
        <tr>
          <td colspan="7">Loading packages data. Please wait.</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
